## Static files

- `baseline_prediction.json`, `scenario{i}.json` (i = 1 to 7)

  - These are generated from the corresponding `scenario{i}.csv` and `scenario{i}_landuse.csv` files stored in the OneDrive `scenarios` directory, using the following script. For the baseline land use, read it instead from `sampling/oa_key.parquet` in OneDrive.

    ```python
    import pandas as pd

    SIGS = {
        "Wild countryside": 0,
        "Countryside agriculture": 1,
        "Urban buffer": 2,
        "Warehouse/Park land": 3,
        "Open sprawl": 4,
        "Disconnected suburbia": 5,
        "Accessible suburbia": 6,
        "Connected residential neighbourhoods": 7,
        "Dense residential neighbourhoods": 8,
        "Gridded residential quarters": 9,
        "Dense urban neighbourhoods": 10,
        "Local urbanity": 11,
        "Regional urbanity": 12,
        "Metropolitan urbanity": 13,
        "Concentrated urbanity": 14,
        "Hyper concentrated urbanity": 15,
    }

    for scen in [3, 6, 7]:
        df = pd.read_csv(f'scenario{scen}.csv')
        df = df.set_index('geo_code')

        landuse_df = pd.read_csv(f'scenario{scen}_landuse.csv')
        landuse_df = landuse_df.set_index('OA11CD')
        landuse_df.index.name = 'geo_code'
        landuse_df['sig'] = landuse_df['primary_type'].map(SIGS)
        landuse_df = landuse_df[['sig']]
        df = df.join(landuse_df, validate='one_to_one')

        df.to_json(path_or_buf=f'scenario{scen}.json', orient='index')
    ```

- `newcastle.json`

  - Contains geographic boundaries for Output Areas used in the 2011 census.
  - Actually a GeoJSON file, but TypeScript complains if you try to import JSON from a file with an extension that isn't `.json`.
  - Obtained from the [Office for National Statistics Open Geography Portal](https://geoportal.statistics.gov.uk/datasets/ons::output-areas-dec-2011-boundaries-ew-bgc/about), but cut down to only include the OAs in Tyne and Wear, which is the relevant region for this project.
  - Numeric IDs have also been added for each feature. Ideally, we'd like to work with string IDs which correspond to the names of the OAs, but [MapLibre doesn't work with string IDs (unless they can be coerced to numbers)](https://github.com/maplibre/maplibre-gl-js/issues/1043).
  - Can be regenerated by running the following script:

    ```python
    import pandas as pd
    import geopandas as gpd
    baseline = pd.read_json('baseline_prediction.json', orient='index')
    oas = baseline.index.values
    gj = gpd.read_file('Output_Areas_Dec_2011_Boundaries_EW_BGC_2022_3211360474256931029.geojson')
    gj = gj.query('OA11CD in @oas')[['OA11CD', 'geometry']]
    gj['id'] = range(len(gj))
    gj.to_crs(epsg=4326).to_file('newcastle.json', driver='GeoJSON')
    ```
